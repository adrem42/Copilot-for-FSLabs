<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<head>
    <title>Copilot for FSLabs 2.0.5 beta</title>
    <link rel="stylesheet" href="../ldoc_pale.css" type="text/css" />
</head>
<body>

<div id="container">

<div id="product">
	<div id="product_logo"></div>
	<div id="product_name"><big><b></b></big></div>
	<div id="product_description"></div>
</div> <!-- id="product" -->


<div id="main">


<!-- Menu -->

<div id="navigation">
<br/>
<h1>Copilot for FSLabs 2.0.5 beta</h1>

<ul>
  <li><a href="../index.html">Index</a></li>
</ul>

<h2>Contents</h2>
<ul>
<li><a href="#Functions">Functions</a></li>
<li><a href="#Tables">Tables</a></li>
<li><a href="#FSL">FSL</a></li>
<li><a href="#Class_Control">Class Control </a></li>
<li><a href="#Class_Button">Class Button </a></li>
<li><a href="#Class_ToggleButton">Class ToggleButton </a></li>
<li><a href="#Class_Guard">Class Guard </a></li>
<li><a href="#Class_Switch">Class Switch </a></li>
<li><a href="#Class_PushPullSwitch">Class PushPullSwitch </a></li>
<li><a href="#Class_RotaryKnob">Class RotaryKnob </a></li>
<li><a href="#Class_MCDU">Class MCDU </a></li>
</ul>


<h2>Libraries</h2>
<ul class="nowrap">
  <li><strong>FSL2Lua</strong></li>
  <li><a href="../libraries/copilot.html">copilot</a></li>
  <li><a href="../libraries/Event.html">Event</a></li>
  <li><a href="../libraries/VoiceCommand.html">VoiceCommand</a></li>
  <li><a href="../libraries/Joystick.html">Joystick</a></li>
</ul>
<h2>Classes</h2>
<ul class="nowrap">
  <li><a href="../classes/Checklist.html">Checklist</a></li>
  <li><a href="../classes/TextMenu.html">TextMenu</a></li>
</ul>
<h2>Manual</h2>
<ul class="nowrap">
  <li><a href="../manual/checklists.md.html">Checklists</a></li>
  <li><a href="../manual/flows.md.html">Flows of the Pilot Monitoring</a></li>
  <li><a href="../manual/fsuipc.md.html">FSUIPC Lua API compatibility</a></li>
  <li><a href="../manual/installation.md.html">Installation</a></li>
  <li><a href="../manual/list_of_keys.md.html">Keyboard keys</a></li>
  <li><a href="../manual/listofcontrols.md.html">FSLabs cockpit controls</a></li>
  <li><a href="../manual/plugins.md.html">Making a plugin</a></li>
  <li><a href="../manual/standalonescripts.md.html">Using the keyboard and joystick binding facilities</a></li>
</ul>
<h2>Examples</h2>
<ul class="nowrap">
  <li><a href="../examples/autorun.lua.html">autorun.lua</a></li>
  <li><a href="../examples/copilot_aircond_prompt.lua.html">copilot_aircond_prompt.lua</a></li>
  <li><a href="../examples/copilot_complex_phrase.lua.html">copilot_complex_phrase.lua</a></li>
  <li><a href="../examples/copilot_events_example.lua.html">copilot_events_example.lua</a></li>
  <li><a href="../examples/copilot_examples.lua.html">copilot_examples.lua</a></li>
</ul>

</div>

<div id="content">

<h1>Module <code>FSL2Lua</code></h1>
<p>Library for interacting with FSLabs cockpit controls based on Lvars and mouse macros.</p>
<p> See <a href="../manual/standalonescripts.md.html#">here</a> on how to use it outside of Copilot.</p>


<h2><a href="#Functions">Functions</a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#checkWithTimeout">checkWithTimeout([timeout=5000], block, ...)</a></td>
	<td class="summary">Executes the callback until it signals a truthy value or the timeout elapses.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#withTimeout">withTimeout([timeout=5000], block, ...)</a></td>
	<td class="summary">Executes the callback until the timeout elapses or the first value returned by the callback is anything other than nil.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#repeatWithTimeout">repeatWithTimeout([timeout=5000], block, ...)</a></td>
	<td class="summary">Repeats the callback until the timeout elapses</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Bind">Bind(args)</a></td>
	<td class="summary">Function for making key bindings.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Bind.cycleSwitch">Bind.cycleSwitch(switch[, ...])</a></td>
	<td class="summary">Returns a function that will cycle the switch.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Bind.cycleLandingLights">Bind.cycleLandingLights([...])</a></td>
	<td class="summary">Returns a function that will cycle the landing light switches and keep them in sync.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Bind.cycleRotaryKnob">Bind.cycleRotaryKnob(knob, steps)</a></td>
	<td class="summary">Divides the knob in n steps and returns a function that will cycle the knob across those steps.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Bind.toggleButtons">Bind.toggleButtons(...)</a></td>
	<td class="summary">Returns a function that will cycle multiple toggle buttons at once and keep their toggle states in sync.</td>
	</tr>
</table>
<h2><a href="#Tables">Tables</a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#FSL">FSL</a></td>
	<td class="summary">

</td>
	</tr>
</table>
<h2><a href="#FSL">FSL</a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#FSL:setPilot">FSL:setPilot(pilot)</a></td>
	<td class="summary">This function makes references in the root FSL table to all fields in either FSL.CPT or FSL.FO, if the 'pilot' parameter is 1 or 2, respectively.</td>
	</tr>
</table>
<h2><a href="#Class_Control">Class Control </a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#Control:macro">Control:macro(clickType)</a></td>
	<td class="summary">Invokes the mouse macro with the given click type on the control's mouse rectangle.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Control:isLit">Control:isLit()</a></td>
	<td class="summary">Checks if the control's light is on.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Control:getLvarValue">Control:getLvarValue()</a></td>
	<td class="summary">

</td>
	</tr>
</table>
<h2><a href="#Class_Button">Class Button </a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#Button.guard">Button.guard</a></td>
	<td class="summary">The <a href="#Class_Guard">guard</a> of this button or nil if it doesn't have one.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Button:__call">Button:__call()</a></td>
	<td class="summary">Presses the button.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Button:rightClick">Button:rightClick()</a></td>
	<td class="summary">Simulates a click of the right mouse button on this button.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Button:isDown">Button:isDown()</a></td>
	<td class="summary">

</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Button:pressForLightState">Button:pressForLightState(state)</a></td>
	<td class="summary">Presses the button if its light's current state doesn't match the passed 'state' parameter.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Button:pressIfLit">Button:pressIfLit()</a></td>
	<td class="summary"><span></td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Button:pressIfNotLit">Button:pressIfNotLit()</a></td>
	<td class="summary"><span></td>
	</tr>
</table>
<h2><a href="#Class_ToggleButton">Class ToggleButton </a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#ToggleButton:setToggleState">ToggleButton:setToggleState(state)</a></td>
	<td class="summary">Sets the toggle state of the button</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#ToggleButton:toggleDown">ToggleButton:toggleDown()</a></td>
	<td class="summary">Calls <a href="../libraries/FSL2Lua.html#ToggleButton:setToggleState">setToggleState</a>(true)</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#ToggleButton:toggleUp">ToggleButton:toggleUp()</a></td>
	<td class="summary">Calls <a href="../libraries/FSL2Lua.html#ToggleButton:setToggleState">setToggleState</a>(false)</td>
	</tr>
</table>
<h2><a href="#Class_Guard">Class Guard </a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#Guard:open">Guard:open()</a></td>
	<td class="summary"><span></td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Guard:lift">Guard:lift()</a></td>
	<td class="summary">Alias for <a href="../libraries/FSL2Lua.html#Guard:open">open</a>.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Guard:close">Guard:close()</a></td>
	<td class="summary"><span></td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Guard:isOpen">Guard:isOpen()</a></td>
	<td class="summary">

</td>
	</tr>
</table>
<h2><a href="#Class_Switch">Class Switch </a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#Switch:__call">Switch:__call(targetPos)</a></td>
	<td class="summary">Moves the switch to the given position.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Switch:getPosn">Switch:getPosn()</a></td>
	<td class="summary">

</td>
	</tr>
</table>
<h2><a href="#Class_PushPullSwitch">Class PushPullSwitch </a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#PushPullSwitch:push">PushPullSwitch:push()</a></td>
	<td class="summary"><span></td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#PushPullSwitch:pull">PushPullSwitch:pull()</a></td>
	<td class="summary"><span></td>
	</tr>
</table>
<h2><a href="#Class_RotaryKnob">Class RotaryKnob </a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#RotaryKnob:__call">RotaryKnob:__call(targetPos)</a></td>
	<td class="summary">

</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#RotaryKnob:rotateLeft">RotaryKnob:rotateLeft()</a></td>
	<td class="summary">Rotates the knob left by 1 tick.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#RotaryKnob:rotateRight">RotaryKnob:rotateRight()</a></td>
	<td class="summary">Rotates the knob right by 1 tick.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#RotaryKnob:getPosn">RotaryKnob:getPosn()</a></td>
	<td class="summary">

</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#RotaryKnob:rotateBy">RotaryKnob:rotateBy(ticks[, pause=70])</a></td>
	<td class="summary">Rotates the knob by amount of ticks.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#RotaryKnob:random">RotaryKnob:random([lower=0][, upper=100])</a></td>
	<td class="summary">Sets the knob to random position between lower and upper.</td>
	</tr>
</table>
<h2><a href="#Class_MCDU">Class MCDU </a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#MCDU.LENGTH_LINE">MCDU.LENGTH_LINE</a></td>
	<td class="summary">Count of cells in a line</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#MCDU.NUM_LINES">MCDU.NUM_LINES</a></td>
	<td class="summary">Total line count</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#MCDU.LENGTH">MCDU.LENGTH</a></td>
	<td class="summary">Total cell count</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#MCDU:getArray">MCDU:getArray()</a></td>
	<td class="summary">Returns the MCDU display as an array of display cells.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#MCDU:getString">MCDU:getString([startpos][, endpos])</a></td>
	<td class="summary">Returns the MCDU display as a string.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#MCDU:getLineIdx">MCDU:getLineIdx(lineNum)</a></td>
	<td class="summary">Returns the start index and the end index of a line</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#MCDU:getLine">MCDU:getLine(lineNum[, disp])</a></td>
	<td class="summary">Returns a line of the display</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#MCDU:getScratchpad">MCDU:getScratchpad([disp])</a></td>
	<td class="summary">Returns the last display line</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#MCDU:type">MCDU:type(str)</a></td>
	<td class="summary">Types str on the keyboard.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#MCDU:isOn">MCDU:isOn()</a></td>
	<td class="summary">Returns false if the display is blank.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#MCDU:printCells">MCDU:printCells()</a></td>
	<td class="summary">Prints information about each display cell: its index, character (including its numerical representation) and whether it's bold.</td>
	</tr>
</table>

<br/>
<br/>


    <h2 class="section-header "><a name="Functions"></a>Functions</h2>
    Methods
    <dl class="function">
    <dt>
    <a name = "checkWithTimeout"></a>
    <strong>checkWithTimeout([timeout=5000], block, ...)</strong>
    </dt>
    <dd>
    Executes the callback until it signals a truthy value or the timeout elapses.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">timeout</span>
            <span class="types"><span class="type">int</span></span>
         Timeout in milliseconds
         (<em>default</em> 5000)
        </li>
        <li><span class="parameter">block</span>
            <span class="types"><span class="type">function</span></span>
         A callback that should return a truthy first value to signal the condition.
        </li>
        <li><span class="parameter">...</span>
         Arguments to forward to block.
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">bool</span></span>
        True + the rest of the values returned by block if the condition was signaled, false if the timeout has elapsed.
    </ol>




</dd>
    <dt>
    <a name = "withTimeout"></a>
    <strong>withTimeout([timeout=5000], block, ...)</strong>
    </dt>
    <dd>
    Executes the callback until the timeout elapses or the first value returned by the callback is anything other than nil.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">timeout</span>
            <span class="types"><span class="type">int</span></span>
         Timeout in milliseconds
         (<em>default</em> 5000)
        </li>
        <li><span class="parameter">block</span>
            <span class="types"><span class="type">function</span></span>



        </li>
        <li><span class="parameter">...</span>
         Arguments to forward to block.
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        Either nil if the timeout has elapsed, or the values returned by block.
    </ol>




</dd>
    <dt>
    <a name = "repeatWithTimeout"></a>
    <strong>repeatWithTimeout([timeout=5000], block, ...)</strong>
    </dt>
    <dd>
    Repeats the callback until the timeout elapses


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">timeout</span>
            <span class="types"><span class="type">int</span></span>
         Timeout in milliseconds
         (<em>default</em> 5000)
        </li>
        <li><span class="parameter">block</span>
            <span class="types"><span class="type">function</span></span>



        </li>
        <li><span class="parameter">...</span>
         Arguments to forward to block.
        </li>
    </ul>





</dd>
    <dt>
    <a name = "Bind"></a>
    <strong>Bind(args)</strong>
    </dt>
    <dd>

<p>Function for making key bindings.  The key events for the bindings you define are trapped and not passed on to the sim.</p>

<p> Accepted values for onPress, onRelease, and onPressRepeat are:</p>

<ul>
    <li><p>A function or callable table.</p></li>
    <li><p>An array in the following format: <code>{<strong>callable1</strong>, arg1, arg2, ..., argn, <strong>callable2</strong>, arg1, arg2, ..., argn, ...}</code>
    where a callable can be either a function, callable table, or object followed by a method name: <code>FSL.OVHD_INTLT_Integ_Lt_Knob, &quot;rotateLeft&quot;</code>.</p></li>
</ul>



    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">args</span> A table that may contain the following fields:
        <ul>
        <li><span class="parameter">onPress</span>
         See above.
        </li>
        <li><span class="parameter">onPressRepeat</span>
         See above.
        </li>
        <li><span class="parameter">onRelease</span>
         See above.
        </li>
        <li><span class="parameter">bindButton</span>
         <a href="#Class_Button">Button</a> Binds the press and release actions of a physical key or button to those of a virtual cockpit button.
        </li>
        <li><span class="parameter">bindToggleButton</span>
         <a href="#Class_ToggleButton">ToggleButton</a> Maps the toggle states of a joystick toggle button to those of a virtual cockpit toggle button.
        </li>
        <li><span class="parameter">bindPush</span>
         <a href="#Class_PushPullSwitch">PushPullSwitch</a> Same as <code>bindButton</code> — for pushing the switch.
        </li>
        <li><span class="parameter">bindPull</span>
         <a href="#Class_PushPullSwitch">PushPullSwitch</a> Same as <code>bindButton</code> — for pulling the switch.
        </li>
        <li><span class="parameter">extended</span>
            <span class="types"><span class="type">bool</span></span>
         True if the key is an extended key. For example, both the regular and the numpad Enter keys share the same keycode, but only the latter has the extended flag set.
        </li>
        <li><span class="parameter">key</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         <a href="../manual/list_of_keys.md.html#">See the list of keys here</a>
        </li>
        </li></ul>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example">Bind {key = <span class="string">"SHIFT+ALT+PageUp"</span>, extended = <span class="keyword">true</span>, onPress = <span class="keyword">function</span>() <span class="global">print</span> <span class="string">"hi"</span> <span class="keyword">end</span>}
Bind {key = <span class="string">"A"</span>, onPress = {FSL.OVHD_EXTLT_Nose_Switch, <span class="string">"TAXI"</span>}}</pre>
    </ul>

</dd>
    <dt>
    <a name = "Bind.cycleSwitch"></a>
    <strong>Bind.cycleSwitch(switch[, ...])</strong>
    </dt>
    <dd>
    Returns a function that will cycle the switch.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">switch</span>
         <a href="#Class_Switch">Switch</a>
        </li>
        <li><span class="parameter">...</span>
         At least two positions to cycle across. If none are specified, the switch will be cycled across all positions.
         (<em>optional</em>)
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">function</span></span>
        Function that will cycle the switch.
    </ol>



    <h3>Usage:</h3>
    <ul>
        <pre class="example">Bind {key = <span class="string">"A"</span>, onPress = Bind.cycleSwitch(FSL.OVHD_EXTLT_Strobe_Switch, <span class="string">"OFF"</span>, <span class="string">"ON"</span>)}

myJoystick:onPress(<span class="number">1</span>, Bind.cycleSwitch(FSL.OVHD_EXTLT_Strobe_Switch))</pre>
    </ul>

</dd>
    <dt>
    <a name = "Bind.cycleLandingLights"></a>
    <strong>Bind.cycleLandingLights([...])</strong>
    </dt>
    <dd>
    Returns a function that will cycle the landing light switches and keep them in sync.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">...</span>
         At least two positions to cycle across. If none are specified, the switches will be cycled across all positions.
         (<em>optional</em>)
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">function</span></span>
        Function that will cycle the switches.
    </ol>




</dd>
    <dt>
    <a name = "Bind.cycleRotaryKnob"></a>
    <strong>Bind.cycleRotaryKnob(knob, steps)</strong>
    </dt>
    <dd>
    Divides the knob in n steps and returns a function that will cycle the knob across those steps.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">knob</span>
         <a href="#Class_RotaryKnob">RotaryKnob</a>
        </li>
        <li><span class="parameter">steps</span>
            <span class="types"><span class="type">int</span></span>
         In how many steps to divide the knob.
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">function</span></span>
        Function that will cycle the knob.
    </ol>




</dd>
    <dt>
    <a name = "Bind.toggleButtons"></a>
    <strong>Bind.toggleButtons(...)</strong>
    </dt>
    <dd>
    Returns a function that will cycle multiple toggle buttons at once and keep their toggle states in sync.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">...</span>
         One or more <a href="#Class_ToggleButton">ToggleButton</a>'s
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">function</span></span>
        Function that will toggle the buttons.
    </ol>




</dd>
</dl>
    <h2 class="section-header "><a name="Tables"></a>Tables</h2>

    <dl class="function">
    <dt>
    <a name = "FSL"></a>
    <strong>FSL</strong>
    </dt>
    <dd>





    <h3>Fields:</h3>
    <ul>
        <li><span class="parameter">CPT</span>
         table containing controls on the left side
        </li>
        <li><span class="parameter">FO</span>
         table containing controls on the right side
        </li>
        <li><span class="parameter">PF</span>
         table containing controls on the side of the Pilot Flying
 <br>For example, if the PF is the Captain, it will be the same as the CPT table.
 <br>The controls on the PM side are in the root FSL table.
        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example">FSL.GSLD_EFIS_VORADF_1_Switch(<span class="string">"VOR"</span>)</pre>
    </ul>

</dd>
</dl>
    <h2 class="section-header "><a name="FSL"></a>FSL</h2>

    <dl class="function">
    <dt>
    <a name = "FSL:setPilot"></a>
    <strong>FSL:setPilot(pilot)</strong>
    </dt>
    <dd>
    This function makes references in the root FSL table to all fields in either FSL.CPT or FSL.FO, if the 'pilot' parameter is 1 or 2, respectively.  For the other side's controls, it makes
references in the FSL.PF table.</p>

<p>Copilot will set it depending on the 'PM_seat' option.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">pilot</span>



        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">local</span> FSL = <span class="global">require</span> <span class="string">"FSL2Lua"</span>

<span class="global">print</span>(FSL.MCDU) <span class="comment">-- nil
</span><span class="global">print</span>(FSL.GSLD_Chrono_Button) <span class="comment">-- nil
</span>
FSL:setPilot(<span class="number">1</span>)

<span class="global">print</span>(FSL.MCDU:getString() == FSL.CPT.MCDU:getString()) <span class="comment">-- true
</span><span class="global">print</span>(FSL.GSLD_Chrono_Button == FSL.CPT.GSLD_Chrono_Button) <span class="comment">-- true
</span><span class="global">print</span>(FSL.PF.MCDU:getString() == FSL.FO.MCDU:getString()) <span class="comment">-- true
</span><span class="global">print</span>(FSL.PF.GSLD_Chrono_Button == FSL.FO.GSLD_Chrono_Button) <span class="comment">-- true</span></pre>
    </ul>

</dd>
</dl>
    <h2 class="section-header has-description"><a name="Class_Control"></a>Class Control </h2>

          <div class="section-description">
          Abstract control
          </div>
    <dl class="function">
    <dt>
    <a name = "Control:macro"></a>
    <strong>Control:macro(clickType)</strong>
    </dt>
    <dd>
    Invokes the mouse macro with the given click type on the control's mouse rectangle.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">clickType</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>

<p> One of the following:</p>

<ul>
    <li>'leftPress'</li>
    <li>'leftRelease'</li>
    <li>'rightPress'</li>
    <li>'rightRelease'</li>
    <li>'wheelUp'</li>
    <li>'wheelDown'</li>
</ul>

        </li>
    </ul>





</dd>
    <dt>
    <a name = "Control:isLit"></a>
    <strong>Control:isLit()</strong>
    </dt>
    <dd>
    Checks if the control's light is on.



    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">bool</span></span>
         True if the control has a light and it's on.</p>

<p> The control needs to have an Lvar associated with its light - otherwise, this function throws an error!</p>

<p> Unfortunately, overhead-style square buttons don't have such Lvars.
    </ol>



    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">if</span> <span class="keyword">not</span> FSL.GSLD_EFIS_CSTR_Button:isLit() <span class="keyword">then</span>
  FSL.GSLD_EFIS_CSTR_Button()
<span class="keyword">end</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "Control:getLvarValue"></a>
    <strong>Control:getLvarValue()</strong>
    </dt>
    <dd>






    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">int</span></span>



    </ol>




</dd>
</dl>
    <h2 class="section-header "><a name="Class_Button"></a>Class Button </h2>

    <dl class="function">
    <dt>
    <a name = "Button.guard"></a>
    <strong>Button.guard</strong>
    </dt>
    <dd>
    The <a href="#Class_Guard">guard</a> of this button or nil if it doesn't have one.







</dd>
    <dt>
    <a name = "Button:__call"></a>
    <strong>Button:__call()</strong>
    </dt>
    <dd>
    Presses the button.






    <h3>Usage:</h3>
    <ul>
        <pre class="example">FSL.OVHD_ELEC_BAT_1_Button()</pre>
    </ul>

</dd>
    <dt>
    <a name = "Button:rightClick"></a>
    <strong>Button:rightClick()</strong>
    </dt>
    <dd>
    Simulates a click of the right mouse button on this button.
 This function was written because I know that the PA button on the ACP
 has a special function if you click on it with the right mouse button.
 I don't think it's useful for anything else.







</dd>
    <dt>
    <a name = "Button:isDown"></a>
    <strong>Button:isDown()</strong>
    </dt>
    <dd>






    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">bool</span></span>
        True if the button is depressed.
    </ol>




</dd>
    <dt>
    <a name = "Button:pressForLightState"></a>
    <strong>Button:pressForLightState(state)</strong>
    </dt>
    <dd>
    Presses the button if its light's current state doesn't match the passed 'state' parameter.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">state</span>
         Truthy for 'the light should be on', falsy for 'the light should be off'.
        </li>
    </ul>





</dd>
    <dt>
    <a name = "Button:pressIfLit"></a>
    <strong>Button:pressIfLit()</strong>
    </dt>
    <dd>
    <span>







</dd>
    <dt>
    <a name = "Button:pressIfNotLit"></a>
    <strong>Button:pressIfNotLit()</strong>
    </dt>
    <dd>
    <span>







</dd>
</dl>
    <h2 class="section-header has-description"><a name="Class_ToggleButton"></a>Class ToggleButton </h2>

          <div class="section-description">
          Buttons that toggle between their 'up' and 'down' positions, such as most of the overhead buttons. </p>

<p> Subclass of <a href="#Class_Button">Button</a>
          </div>
    <dl class="function">
    <dt>
    <a name = "ToggleButton:setToggleState"></a>
    <strong>ToggleButton:setToggleState(state)</strong>
    </dt>
    <dd>
    Sets the toggle state of the button


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">state</span>
         Truthy for 'down', falsy for 'up'
        </li>
    </ul>





</dd>
    <dt>
    <a name = "ToggleButton:toggleDown"></a>
    <strong>ToggleButton:toggleDown()</strong>
    </dt>
    <dd>
    Calls <a href="../libraries/FSL2Lua.html#ToggleButton:setToggleState">setToggleState</a>(true)







</dd>
    <dt>
    <a name = "ToggleButton:toggleUp"></a>
    <strong>ToggleButton:toggleUp()</strong>
    </dt>
    <dd>
    Calls <a href="../libraries/FSL2Lua.html#ToggleButton:setToggleState">setToggleState</a>(false)







</dd>
</dl>
    <h2 class="section-header "><a name="Class_Guard"></a>Class Guard </h2>

    <dl class="function">
    <dt>
    <a name = "Guard:open"></a>
    <strong>Guard:open()</strong>
    </dt>
    <dd>
    <span>







</dd>
    <dt>
    <a name = "Guard:lift"></a>
    <strong>Guard:lift()</strong>
    </dt>
    <dd>
    Alias for <a href="../libraries/FSL2Lua.html#Guard:open">open</a>.







</dd>
    <dt>
    <a name = "Guard:close"></a>
    <strong>Guard:close()</strong>
    </dt>
    <dd>
    <span>







</dd>
    <dt>
    <a name = "Guard:isOpen"></a>
    <strong>Guard:isOpen()</strong>
    </dt>
    <dd>






    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">bool</span></span>



    </ol>




</dd>
</dl>
    <h2 class="section-header has-description"><a name="Class_Switch"></a>Class Switch </h2>

          <div class="section-description">
          All controls that have named positions
          </div>
    <dl class="function">
    <dt>
    <a name = "Switch:__call"></a>
    <strong>Switch:__call(targetPos)</strong>
    </dt>
    <dd>
    Moves the switch to the given position.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">targetPos</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         A valid position for this switch.
 You can find the list of positions for a given switch in <a href="../manual/listofcontrols.md.html#">the list of controls</a>.
        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example">FSL.GSLD_EFIS_VORADF_1_Switch <span class="string">"VOR"</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "Switch:getPosn"></a>
    <strong>Switch:getPosn()</strong>
    </dt>
    <dd>






    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
        Current position of the switch in uppercase.
    </ol>




</dd>
</dl>
    <h2 class="section-header has-description"><a name="Class_PushPullSwitch"></a>Class PushPullSwitch </h2>

          <div class="section-description">
          <span>
          </div>
    <dl class="function">
    <dt>
    <a name = "PushPullSwitch:push"></a>
    <strong>PushPullSwitch:push()</strong>
    </dt>
    <dd>
    <span>







</dd>
    <dt>
    <a name = "PushPullSwitch:pull"></a>
    <strong>PushPullSwitch:pull()</strong>
    </dt>
    <dd>
    <span>







</dd>
</dl>
    <h2 class="section-header has-description"><a name="Class_RotaryKnob"></a>Class RotaryKnob </h2>

          <div class="section-description">
          <span>
          </div>
    <dl class="function">
    <dt>
    <a name = "RotaryKnob:__call"></a>
    <strong>RotaryKnob:__call(targetPos)</strong>
    </dt>
    <dd>





    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">targetPos</span>
            <span class="types"><span class="type">number</span></span>
         Relative position from 0-100.
        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example">FSL.OVHD_INTLT_Integ_Lt_Knob(<span class="number">42</span>)</pre>
    </ul>

</dd>
    <dt>
    <a name = "RotaryKnob:rotateLeft"></a>
    <strong>RotaryKnob:rotateLeft()</strong>
    </dt>
    <dd>
    Rotates the knob left by 1 tick.







</dd>
    <dt>
    <a name = "RotaryKnob:rotateRight"></a>
    <strong>RotaryKnob:rotateRight()</strong>
    </dt>
    <dd>
    Rotates the knob right by 1 tick.







</dd>
    <dt>
    <a name = "RotaryKnob:getPosn"></a>
    <strong>RotaryKnob:getPosn()</strong>
    </dt>
    <dd>






    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">number</span></span>
        Relative position from 0-100.
    </ol>




</dd>
    <dt>
    <a name = "RotaryKnob:rotateBy"></a>
    <strong>RotaryKnob:rotateBy(ticks[, pause=70])</strong>
    </dt>
    <dd>
    Rotates the knob by amount of ticks.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">ticks</span>
            <span class="types"><span class="type">number</span></span>
         positive to rotate right, negative to rotate left
        </li>
        <li><span class="parameter">pause</span>
            <span class="types"><span class="type">number</span></span>
         milliseconds to sleep between each tick
         (<em>default</em> 70)
        </li>
    </ul>





</dd>
    <dt>
    <a name = "RotaryKnob:random"></a>
    <strong>RotaryKnob:random([lower=0][, upper=100])</strong>
    </dt>
    <dd>
    Sets the knob to random position between lower and upper.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">lower</span>
            <span class="types"><span class="type">number</span></span>



         (<em>default</em> 0)
        </li>
        <li><span class="parameter">upper</span>
            <span class="types"><span class="type">number</span></span>



         (<em>default</em> 100)
        </li>
    </ul>





</dd>
</dl>
    <h2 class="section-header "><a name="Class_MCDU"></a>Class MCDU </h2>

    <dl class="function">
    <dt>
    <a name = "MCDU.LENGTH_LINE"></a>
    <strong>MCDU.LENGTH_LINE</strong>
    </dt>
    <dd>
    Count of cells in a line


    <ul>
        <li><span class="parameter">LENGTH_LINE</span>
            <span class="types"><span class="type">int</span></span>



        </li>
    </ul>





</dd>
    <dt>
    <a name = "MCDU.NUM_LINES"></a>
    <strong>MCDU.NUM_LINES</strong>
    </dt>
    <dd>
    Total line count


    <ul>
        <li><span class="parameter">NUM_LINES</span>
            <span class="types"><span class="type">int</span></span>



        </li>
    </ul>





</dd>
    <dt>
    <a name = "MCDU.LENGTH"></a>
    <strong>MCDU.LENGTH</strong>
    </dt>
    <dd>
    Total cell count


    <ul>
        <li><span class="parameter">LENGTH</span>
            <span class="types"><span class="type">int</span></span>



        </li>
    </ul>





</dd>
    <dt>
    <a name = "MCDU:getArray"></a>
    <strong>MCDU:getArray()</strong>
    </dt>
    <dd>
    Returns the MCDU display as an array of display cells.



    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.5">table</a></span>

<p> Array of tables representing display cells.</p>

<p> Each cell table has three fields:</p>

<ul>
    <li>char: The character displayed in the cell (nil if the cell is blank)</li>
    <li>color: The color of the character, one of these :
    <ul>
        <li>'cyan'</li>
        <li>'grey'</li>
        <li>'green'</li>
        <li>'magenta'</li>
        <li>'amber' </li>
        <li>'white' </li>
    </ul></li>
    <li>isBold: bool</li>
</ul>

    </ol>




</dd>
    <dt>
    <a name = "MCDU:getString"></a>
    <strong>MCDU:getString([startpos][, endpos])</strong>
    </dt>
    <dd>
    Returns the MCDU display as a string.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">startpos</span>
            <span class="types"><span class="type">number</span></span>



         (<em>optional</em>)
        </li>
        <li><span class="parameter">endpos</span>
            <span class="types"><span class="type">number</span></span>



         (<em>optional</em>)
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>



    </ol>



    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">if</span> <span class="keyword">not</span> FSL.MCDU:getString():find <span class="string">"MCDU MENU"</span> <span class="keyword">then</span>
  FSL.PED_MCDU_KEY_MENU()
<span class="keyword">end</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "MCDU:getLineIdx"></a>
    <strong>MCDU:getLineIdx(lineNum)</strong>
    </dt>
    <dd>
    Returns the start index and the end index of a line


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">lineNum</span>
            <span class="types"><span class="type">int</span></span>



        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>
        <li>
           <span class="types"><span class="type">int</span></span>
        Start index</li>
        <li>
           <span class="types"><span class="type">int</span></span>
        End index</li>
    </ol>




</dd>
    <dt>
    <a name = "MCDU:getLine"></a>
    <strong>MCDU:getLine(lineNum[, disp])</strong>
    </dt>
    <dd>
    Returns a line of the display


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">lineNum</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">disp</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         If you already have a display string, you can pass it here.
         (<em>optional</em>)
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>



    </ol>




</dd>
    <dt>
    <a name = "MCDU:getScratchpad"></a>
    <strong>MCDU:getScratchpad([disp])</strong>
    </dt>
    <dd>
    Returns the last display line


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">disp</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         If you already have a display string, you can pass it here.
         (<em>optional</em>)
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>



    </ol>




</dd>
    <dt>
    <a name = "MCDU:type"></a>
    <strong>MCDU:type(str)</strong>
    </dt>
    <dd>
    Types str on the keyboard.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">str</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>



        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example">FSL.CPT.MCDU:<span class="global">type</span> <span class="string">"hello"</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "MCDU:isOn"></a>
    <strong>MCDU:isOn()</strong>
    </dt>
    <dd>
    Returns false if the display is blank.



    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">bool</span></span>



    </ol>




</dd>
    <dt>
    <a name = "MCDU:printCells"></a>
    <strong>MCDU:printCells()</strong>
    </dt>
    <dd>
    Prints information about each display cell: its index, character (including its numerical representation) and whether it's bold.







</dd>
</dl>


</div> <!-- id="content" -->
</div> <!-- id="main" -->
<div id="about">
<i>generated by <a href="http://github.com/stevedonovan/LDoc">LDoc 1.4.6</a></i>
<i style="float:right;">Last updated 2021-04-16 01:00:08 </i>
</div> <!-- id="about" -->
</div> <!-- id="container" -->
</body>
</html>
