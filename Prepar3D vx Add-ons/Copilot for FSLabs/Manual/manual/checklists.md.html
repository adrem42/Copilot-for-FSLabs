<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<head>
    <title>Copilot for FSLabs 2.3.0</title>
    <link rel="stylesheet" href="../ldoc_pale.css" type="text/css" />
</head>
<body>

<div id="container">

<div id="product">
	<div id="product_logo"></div>
	<div id="product_name"><big><b></b></big></div>
	<div id="product_description"></div>
</div> <!-- id="product" -->


<div id="main">


<!-- Menu -->

<div id="navigation">
<br/>
<h1>Copilot for FSLabs 2.3.0</h1>

<ul>
  <li><a href="../index.html">Index</a></li>
</ul>

<h2>Contents</h2>
<ul>
<li><a href="#The_checklist_flow">The checklist flow </a></li>
<li><a href="#_Checklists__section_in_options_ini">[Checklists] section in options.ini </a></li>
<li><a href="#List_of_checklists">List of checklists  </a></li>
<li><a href="#Modifying_and_creating_checklists">Modifying and creating checklists </a></li>
</ul>


<h2>Manual</h2>
<ul class="nowrap">
  <li><strong>Checklists</strong></li>
  <li><a href="../manual/flows.md.html">Flows of the Pilot Monitoring</a></li>
  <li><a href="../manual/fsuipc.md.html">FSUIPC Lua API compatibility</a></li>
  <li><a href="../manual/installation.md.html">Installation</a></li>
  <li><a href="../manual/list_of_keys.md.html">Keyboard keys</a></li>
  <li><a href="../manual/listofcontrols.md.html">FSLabs cockpit controls</a></li>
  <li><a href="../manual/plugins.md.html">Making a plugin</a></li>
  <li><a href="../manual/standalonescripts.md.html">Using the keyboard and joystick binding facilities</a></li>
</ul>
<h2>Libraries</h2>
<ul class="nowrap">
  <li><a href="../libraries/FSL2Lua.html">FSL2Lua</a></li>
  <li><a href="../libraries/copilot.html">copilot</a></li>
  <li><a href="../libraries/Event.html">Event</a></li>
  <li><a href="../libraries/VoiceCommand.html">VoiceCommand</a></li>
  <li><a href="../libraries/PhraseUtils.html">PhraseUtils</a></li>
  <li><a href="../libraries/Joystick.html">Joystick</a></li>
</ul>
<h2>Classes</h2>
<ul class="nowrap">
  <li><a href="../classes/Checklist.html">Checklist</a></li>
  <li><a href="../classes/TextMenu.html">TextMenu</a></li>
</ul>
<h2>Examples</h2>
<ul class="nowrap">
  <li><a href="../examples/autorun.lua.html">autorun.lua</a></li>
  <li><a href="../examples/copilot_aircond_prompt.lua.html">copilot_aircond_prompt.lua</a></li>
  <li><a href="../examples/copilot_complex_phrase.lua.html">copilot_complex_phrase.lua</a></li>
  <li><a href="../examples/copilot_events_example.lua.html">copilot_events_example.lua</a></li>
  <li><a href="../examples/copilot_examples.lua.html">copilot_examples.lua</a></li>
</ul>

</div>

<div id="content">


<h1>Checklists</h1>

<p><a name="The_checklist_flow"></a></p>
<h2>The checklist flow</h2>

<p>To start a checklist, speak its trigger phrase.
When you start a checklist, all voice commands that aren't associated with it are suspended (their states are restored when the checklist completes).</p>

<p>In addition to the normal response to a challenge, you may say "restart checklist", "say again" or "standby checklist".
"standby checklist" resumes the suspended voice commands and awaits "resume checklist" or "continue checklist".</p>

<p><a name="_Checklists__section_in_options_ini"></a></p>
<h2>[Checklists] section in options.ini</h2>

<h3>display_info:</h3>

<p>Display possible responses to a checklist item challenge in a message window.</p>
<h3>display_fail</h3>

<p>If the copilot didn't like how you responded to a challenge (he will say "double check that"), display the reason in a message window (the same message will also be logged in the regular log regardless of this setting).</p>

<h3>menu_keybind</h3>

<p>A key or key combination (for example, <em>A</em> or <em>SHIFT+F3</em>) that will trigger the checklist menu.
The menu lets you skip the current checklist item as well as cancel or skip the whole checklist.
Both cancelling and skipping stop the execution of the current checklist.
The difference is that cancelling will also reactivate the checklist's trigger voice command.</p>

<p><a name="List_of_checklists_"></a></p>
<h2>List of checklists</h2>
<h5>Response phrase syntax explanation:</h5>
<p>Curly brackets denote a multiple choice phrase element, with each choice inside round brackets.<br><br>
Square brackets denote an optional phrase element.<br><br>
... means 'match anything'.<br><br></p>
<hr/>
<h3>Before Start to the Line</h3>
<p>Trigger phrases: <strong>"before start checklist"</strong><br><br>
When it's available: If preflight action enabled: when preflight action is finished, otherwise: when the chocks are set.<br><br></p>
<h6>Cockpit Prep</h6>
<p>completed
<br><br></p>
<h6>Gear Pins and Covers</h6>
<p>removed
<br><br></p>
<h6>Signs</h6>
<p>on auto<br><br>
on and auto<br><br>
onanauto<br><br>
on anauto
<br><br></p>
<h6>ADIRS</h6>
<p>nav
<br><br></p>
<h6>Fuel Quantity</h6>
<p>&lt;1-100&gt; {(thousand [&lt;1-9&gt; hundred] [kilograms])+(tonnes)}
<br><br></p>
<h6>TO Data</h6>
<p>set
<br><br></p>
<h6>Baro REF</h6>
<p>[{(cue an h)+(q n h)}] &lt;3-4-digit spelled number&gt; [set]
<br><br></p>
<hr/>
<h3>Before Start below the Line</h3>
<p>Trigger phrases: <strong>"before start below the line"</strong>, <strong>"below the line"</strong><br><br>
When it's available: When before start to the line is finished.<br><br></p>
<h6>Windows / Doors</h6>
<p>closed
<br><br></p>
<h6>Beacon</h6>
<p>off<br><br>
on
<br><br></p>
<h6>THR Levers</h6>
<p>idle
<br><br></p>
<h6>Parking Brake</h6>
<p>off<br><br>
released<br><br>
on<br><br>
set
<br><br></p>
<hr/>
<h3>After start</h3>
<p>Trigger phrases: <strong>"after start checklist"</strong><br><br>
When it's available: If after_start action enabled: when after_start action is finished, otherwise: when the engines are started.<br><br></p>
<h6>Anti-Ice</h6>
<p>off<br><br>
on<br><br>
engine anti-ice on
<br><br></p>
<h6>ECAM Status</h6>
<p>checked
<br><br></p>
<h6>Pitch Trim</h6>
<p>&lt;CG value&gt; [percent] [set]
<br><br></p>
<h6>Rudder Trim</h6>
<p>zero
<br><br></p>
<hr/>
<h3>Before Takeoff to the Line</h3>
<p>Trigger phrases: <strong>"before takeoff checklist"</strong><br><br>
When it's available: When after start checklist is finished.<br><br></p>
<h6>Flight Controls</h6>
<p>checked
<br><br></p>
<h6>Flight Instruments</h6>
<p>checked
<br><br></p>
<h6>Briefing</h6>
<p>confirmed
<br><br></p>
<h6>Flap Setting</h6>
<p>config {(1)+(1 plus f)+(2)+(3)}
<br><br></p>
<h6>V1, Vr, V2 / FLEX Temp</h6>
<p>{(V one &lt;3-digit spelled number&gt; V r &lt;3-digit spelled number&gt; V two &lt;3-digit spelled number&gt;)+(&lt;3-digit spelled number&gt; &lt;3-digit spelled number&gt; &lt;3-digit spelled number&gt;)} {(TOGA)+(no flex [temp])+(FLEX [temp] &lt;FLEX temp&gt;)}
<br><br></p>
<h6>ATC</h6>
<p>set
<br><br></p>
<h6>ECAM Memo</h6>
<p>takeoff no blue
<br><br></p>
<hr/>
<h3>Before Takeoff below the Line</h3>
<p>Trigger phrases: <strong>"before takeoff below the line"</strong>, <strong>"below the line"</strong><br><br>
When it's available: If lineup action enabled: when lineup action is finished and before takeoff to the line is finished, otherwise: when before takeoff to the line is finished.<br><br></p>
<h6>Takeoff RWY</h6>
<p>[runway] &lt;runway identifier&gt; [confirmed]
<br><br></p>
<h6>Cabin Crew</h6>
<p>advised
<br><br></p>
<h6>TCAS</h6>
<p>t a<br><br>
t a r a
<br><br></p>
<h6>Engine Mode Selector</h6>
<p>ignition<br><br>
normal
<br><br></p>
<h6>Packs</h6>
<p>off<br><br>
on
<br><br></p>
<hr/>
<h3>After Takeoff / Climb</h3>
<p>Trigger phrases: <strong>"after takeoff climb checklist"</strong><br><br>
When it's available: 1000 feet above airfield elevation.<br><br></p>
<h6>Landing Gear</h6>
<p>up
<br><br></p>
<h6>Flaps</h6>
<p>retracted
<br><br></p>
<h6>Packs</h6>
<p>off<br><br>
on
<br><br></p>
<hr/>
<h3>After Takeoff / Climb below the Line</h3>
<p>Trigger phrases: <strong>"after takeoff climb below the line"</strong>, <strong>"below the line"</strong><br><br>
When it's available: When the after takeoff climb checklist to the line is finished.<br><br></p>
<h6>Baro REF</h6>
<p>standard<br><br>
standard set
<br><br></p>
<hr/>
<h3>Approach</h3>
<p>Trigger phrases: <strong>"approach checklist"</strong><br><br>
When it's available: Below 10'000 feet.<br><br></p>
<h6>Briefing</h6>
<p>confirmed
<br><br></p>
<h6>ECAM Status</h6>
<p>checked
<br><br></p>
<h6>Seat Belts</h6>
<p>off<br><br>
on
<br><br></p>
<h6>Baro REF</h6>
<p>[{(cue an h)+(q n h)}] &lt;3-4-digit spelled number&gt; [set]
<br><br></p>
<h6>Minimum</h6>
<p>... set
<br><br></p>
<h6>Engine Mode Selector</h6>
<p>ignition<br><br>
normal
<br><br></p>
<hr/>
<h3>Landing</h3>
<p>Trigger phrases: <strong>"landing checklist"</strong><br><br>
When it's available: Below 10'000 feet and IAS below 200 kts.<br><br></p>
<h6>Cabin Crew</h6>
<p>advised
<br><br></p>
<h6>A/THR</h6>
<p>off<br><br>
speed
<br><br></p>
<h6>Auto-brake</h6>
<p>low<br><br>
medium
<br><br></p>
<h6>ECAM Memo</h6>
<p>Landing no blue
<br><br></p>
<hr/>
<h3>Parking</h3>
<p>Trigger phrases: <strong>"parking checklist"</strong><br><br>
When it's available: On engine shutdown<br><br></p>
<h6>APU Bleed</h6>
<p>off<br><br>
on
<br><br></p>
<h6>Engines</h6>
<p>off
<br><br></p>
<h6>Seat Belts</h6>
<p>off<br><br>
on
<br><br></p>
<h6>External Lights</h6>
<p>nav logo on<br><br>
off
<br><br></p>
<h6>Fuel Pumps</h6>
<p>off
<br><br></p>
<h6>Park BRK / Chocks</h6>
<p>{(on)+(off)} and {(in)+(out)}
<br><br></p>
<hr/>
<h3>Securing the Aircraft</h3>
<p>Trigger phrases: <strong>"securing the aircraft checklist"</strong><br><br>
When it's available: When the parking checklist is finished<br><br></p>
<h6>ADIRS</h6>
<p>off
<br><br></p>
<h6>Oxygen</h6>
<p>off<br><br>
on
<br><br></p>
<h6>APU Bleed</h6>
<p>off<br><br>
on
<br><br></p>
<h6>EMER Exit Lights</h6>
<p>arm<br><br>
off<br><br>
on
<br><br></p>
<h6>Signs</h6>
<p>off
<br><br></p>
<h6>APU and BAT</h6>
<p>off
<br><br></p>
<hr/>

<p><a name="Modifying_and_creating_checklists"></a></p>
<h2>Modifying and creating checklists</h2>

<p><a href="../classes/Checklist.html#">Checklist class</a></p>

<p><a href="../manual/plugins.md.html#">How to make a plugin</a><br><br></p>

<h5>Modifying items in default checklists</h5>


<pre>
copilot.checklists.beforeTakeoff:replaceItem {
    label = <span class="string">"takeoffSpeedsFlexTemp"</span>,
    response = VoiceCommand:new <span class="string">"set"</span>,
}

copilot.checklists.landing:getItem<span class="string">"autoThrust"</span>.response.SPEED:setConfidence(<span class="number">0.8</span>)
</pre>

<h5>Creating checklists</h5>

<p>Browse the lua files at <em>copilot\copilot\checklists</em> and <em>copilot\copilot\initChecklists.lua</em> for examples.</p>

<p>The simplest checklist with no validation looks like this:</p>


<pre>
approachChecklist = Checklist:new(
    <span class="string">"approach"</span>,
    <span class="string">"Approach checklist"</span>,
    VoiceCommand:new <span class="string">"approach checklist"</span>
)
approachChecklist:appendItem {
    label = <span class="string">"briefing"</span>,
    displayLabel = <span class="string">"Briefing"</span>,
    response = VoiceCommand:new <span class="string">"confirmed"</span>
}
approachChecklist.trigger:activateOn(copilot.events.aboveTenThousand)
</pre>

<p>The above checklist will require the following callout file structure:</p>

<pre><code>copilot\sounds\callouts\soundSetName\checklists\approach\
    config.lua
    announce.wav
    completed.wav
    briefing.wav
</code></pre>


<p>with config.lua that looks like this:</p>


<pre>
<span class="keyword">return</span> {
    <span class="string">"announce"</span>,
    <span class="string">"completed"</span>,
    <span class="string">"briefing"</span>
}
</pre>

<p>Alternatively, you can create a text-to-speech set by creating the file <em>copilot\sounds\callouts\soundSetName\config.lua</em> with the following content:</p>


<pre>
<span class="keyword">return</span> {
    isTTS = <span class="keyword">true</span>,
    parent = <span class="string">"TTS"</span>, <span class="comment">-- inherit all phrases from the default TTS set
</span>    checklists = {
        approach = {
            announce = <span class="string">"approach checklist"</span>,
            completed = <span class="string">"approach checklist completed"</span>,
            briefing = <span class="string">"briefing"</span>
        }
    }
}
</pre>

<p>The default checklists can be disabled by setting enable=0 in options.ini or programmatically:</p>


<pre>
<span class="keyword">for</span> _, checklist <span class="keyword">in</span> <span class="global">ipairs</span>(copilot.checklists) <span class="keyword">do</span>
    checklist.trigger:disable()
<span class="keyword">end</span>
</pre>

<p>You can still re-use checklists disabled with enable=0 by loading their files yourself:</p>


<pre>
<span class="global">require</span> <span class="string">"copilot.checklists.beforeStart"</span>
copilot.checklists.beforeStart.trigger:activate()
</pre>



</div> <!-- id="content" -->
</div> <!-- id="main" -->
<div id="about">
<i>generated by <a href="http://github.com/stevedonovan/LDoc">LDoc 1.4.6</a></i>
<i style="float:right;">Last updated 2021-08-24 18:11:48 </i>
</div> <!-- id="about" -->
</div> <!-- id="container" -->
</body>
</html>
