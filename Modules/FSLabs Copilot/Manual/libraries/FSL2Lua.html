<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<head>
    <title>Copilot for FSLabs 1.2.0</title>
    <link rel="stylesheet" href="../ldoc.css" type="text/css" />
</head>
<body>

<div id="container">

<div id="product">
	<div id="product_logo"></div>
	<div id="product_name"><big><b></b></big></div>
	<div id="product_description"></div>
</div> <!-- id="product" -->


<div id="main">


<!-- Menu -->

<div id="navigation">
<br/>
<h1>Copilot for FSLabs 1.2.0</h1>

<ul>
  <li><a href="../index.html">Index</a></li>
</ul>

<h2>Contents</h2>
<ul>
<li><a href="#Tables">Tables</a></li>
<li><a href="#FSL">FSL</a></li>
<li><a href="#Class_Control">Class Control </a></li>
<li><a href="#Class_Button">Class Button </a></li>
<li><a href="#Class_Guard">Class Guard </a></li>
<li><a href="#Class_Switch">Class Switch </a></li>
<li><a href="#Class_FcuSwitch">Class FcuSwitch </a></li>
<li><a href="#Class_KnobWithoutPositions">Class KnobWithoutPositions </a></li>
<li><a href="#Class_MCDU">Class MCDU </a></li>
</ul>


<h2>Libraries</h2>
<ul class="nowrap">
  <li><strong>FSL2Lua</strong></li>
  <li><a href="../libraries/copilot.html">copilot</a></li>
  <li><a href="../libraries/Event.html">Event</a></li>
  <li><a href="../libraries/Joystick.html">Joystick</a></li>
</ul>
<h2>Manual</h2>
<ul class="nowrap">
  <li><a href="../manual/flows.md.html">Flows</a></li>
  <li><a href="../manual/installation.md.html">Installation</a></li>
  <li><a href="../manual/listofcontrols.md.html">FSLabs cockpit controls</a></li>
  <li><a href="../manual/standalonescripts.md.html">Standalone FSL2Lua scripts</a></li>
</ul>
<h2>Examples</h2>
<ul class="nowrap">
  <li><a href="../examples/cockpit_control_binds.lua.html">cockpit_control_binds.lua</a></li>
  <li><a href="../examples/custom.lua.html">custom.lua</a></li>
  <li><a href="../examples/hid_joysticks.lua.html">hid_joysticks.lua</a></li>
</ul>

</div>

<div id="content">

<h1>Module <code>FSL2Lua</code></h1>
<p>Library for interacting with FSLabs cockpit controls based on Lvars and mouse macros.</p>
<p> See <a href="../manual/standalonescripts.md.html#">here</a> on how to use it outside of Copilot.</p>


<h2><a href="#Tables">Tables</a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#FSL">FSL</a></td>
	<td class="summary">

</td>
	</tr>
</table>
<h2><a href="#FSL">FSL</a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#FSL:setPilot">FSL:setPilot(pilot)</a></td>
	<td class="summary">This function makes references in the root FSL table to all fields in either FSL.CPT or FSL.FO, if the 'pilot' parameter is 1 or 2, respectively.</td>
	</tr>
</table>
<h2><a href="#Class_Control">Class Control </a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#Control:macro">Control:macro(clickType)</a></td>
	<td class="summary">Invokes the mouse macro of the control</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Control:isLit">Control:isLit()</a></td>
	<td class="summary">Checks if the control's light is on.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Control:getLvarValue">Control:getLvarValue()</a></td>
	<td class="summary">

</td>
	</tr>
</table>
<h2><a href="#Class_Button">Class Button </a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#Button:__call">Button:__call()</a></td>
	<td class="summary">Presses the button.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Button:rightClick">Button:rightClick()</a></td>
	<td class="summary">Simulates a click of the right mouse button on the VC button.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Button:isDown">Button:isDown()</a></td>
	<td class="summary">

</td>
	</tr>
</table>
<h2><a href="#Class_Guard">Class Guard </a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#Guard:lift">Guard:lift()</a></td>
	<td class="summary"><span></td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Guard:close">Guard:close()</a></td>
	<td class="summary"><span></td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Guard:isOpen">Guard:isOpen()</a></td>
	<td class="summary">

</td>
	</tr>
</table>
<h2><a href="#Class_Switch">Class Switch </a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#Switch:__call">Switch:__call(targetPos)</a></td>
	<td class="summary">

</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Switch:getPosn">Switch:getPosn()</a></td>
	<td class="summary">

</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Switch:toggle">Switch:toggle()</a></td>
	<td class="summary">Cycles the switch back and forth.</td>
	</tr>
</table>
<h2><a href="#Class_FcuSwitch">Class FcuSwitch </a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#FcuSwitch:push">FcuSwitch:push()</a></td>
	<td class="summary"><span></td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#FcuSwitch:pull">FcuSwitch:pull()</a></td>
	<td class="summary"><span></td>
	</tr>
</table>
<h2><a href="#Class_KnobWithoutPositions">Class KnobWithoutPositions </a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#KnobWithoutPositions:__call">KnobWithoutPositions:__call(targetPos)</a></td>
	<td class="summary">

</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#KnobWithoutPositions:rotateLeft">KnobWithoutPositions:rotateLeft()</a></td>
	<td class="summary">Rotates the knob left by 1 tick.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#KnobWithoutPositions:rotateRight">KnobWithoutPositions:rotateRight()</a></td>
	<td class="summary">Rotates the knob right by 1 tick.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#KnobWithoutPositions:getPosn">KnobWithoutPositions:getPosn()</a></td>
	<td class="summary">

</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#KnobWithoutPositions:rotateBy">KnobWithoutPositions:rotateBy(ticks[, pause=70])</a></td>
	<td class="summary">Rotates the knob by amount of ticks.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#KnobWithoutPositions:random">KnobWithoutPositions:random([lower=0[, upper=100]])</a></td>
	<td class="summary">Sets the knob to random position between lower and upper.</td>
	</tr>
</table>
<h2><a href="#Class_MCDU">Class MCDU </a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#MCDU:getArray">MCDU:getArray()</a></td>
	<td class="summary">Returns the MCDU display as an array of display cells.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#MCDU:getString">MCDU:getString([startpos[, endpos]])</a></td>
	<td class="summary">Returns the MCDU display as a string.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#MCDU:getScratchpad">MCDU:getScratchpad()</a></td>
	<td class="summary">Returns the scratchpad - the last line on the display</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#MCDU:type">MCDU:type(str)</a></td>
	<td class="summary">Types str on the keyboard.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#MCDU:isOn">MCDU:isOn()</a></td>
	<td class="summary">Returns false if the display is blank.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#MCDU:printCells">MCDU:printCells()</a></td>
	<td class="summary">Outputs information about each display cell: its index, character (including its numerical representation) and whether it's bold.</td>
	</tr>
</table>

<br/>
<br/>


    <h2 class="section-header "><a name="Tables"></a>Tables</h2>

    <dl class="function">
    <dt>
    <a name = "FSL"></a>
    <strong>FSL</strong>
    </dt>
    <dd>





    <h3>Fields:</h3>
    <ul>
        <li><span class="parameter">CPT</span>
         table containing controls on the left side
        </li>
        <li><span class="parameter">FO</span>
         table containing controls on the right side
        </li>
        <li><span class="parameter">PF</span>
         table containing controls on the side of the Pilot Flying
 <br>For example, if the PF is the Captain, it will be the same as the CPT table.
 <br>The controls on the PM side are in the root FSL table.
        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example">FSL.GSLD_EFIS_VORADF_1_Switch(<span class="string">"VOR"</span>)</pre>
    </ul>

</dd>
</dl>
    <h2 class="section-header "><a name="FSL"></a>FSL</h2>

    <dl class="function">
    <dt>
    <a name = "FSL:setPilot"></a>
    <strong>FSL:setPilot(pilot)</strong>
    </dt>
    <dd>
    This function makes references in the root FSL table to all fields in either FSL.CPT or FSL.FO, if the 'pilot' parameter is 1 or 2, respectively.  For the other side's controls, it makes
references in the FSL.PF table.</p>

<p>Copilot will set it depending on the 'PM_seat' option.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">pilot</span>



        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">local</span> FSL = <span class="global">require</span> <span class="string">"FSL2Lua"</span>

<span class="global">print</span>(FSL.MCDU) <span class="comment">-- nil
</span><span class="global">print</span>(FSL.GSLD_Chrono_Button) <span class="comment">-- nil
</span>
FSL:setPilot(<span class="number">1</span>)

<span class="global">print</span>(FSL.MCDU:getString() == FSL.CPT.MCDU:getString()) <span class="comment">-- true
</span><span class="global">print</span>(FSL.GSLD_Chrono_Button == FSL.CPT.GSLD_Chrono_Button) <span class="comment">-- true
</span><span class="global">print</span>(FSL.PF.MCDU:getString() == FSL.FO.MCDU:getString()) <span class="comment">-- true
</span><span class="global">print</span>(FSL.PF.GSLD_Chrono_Button == FSL.FO.GSLD_Chrono_Button) <span class="comment">-- true</span></pre>
    </ul>

</dd>
</dl>
    <h2 class="section-header has-description"><a name="Class_Control"></a>Class Control </h2>

          <div class="section-description">
          Abstract control
          </div>
    <dl class="function">
    <dt>
    <a name = "Control:macro"></a>
    <strong>Control:macro(clickType)</strong>
    </dt>
    <dd>
    Invokes the mouse macro of the control


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">clickType</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>

<p> One of the following:</p>

<ul>
    <li>'leftPress'</li>
    <li>'leftRelease'</li>
    <li>'rightPress'</li>
    <li>'rightRelease'</li>
    <li>'wheelUp'</li>
    <li>'wheelDown'</li>
</ul>

        </li>
    </ul>





</dd>
    <dt>
    <a name = "Control:isLit"></a>
    <strong>Control:isLit()</strong>
    </dt>
    <dd>
    Checks if the control's light is on.



    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">bool</span></span>
         True if the control has a light and it's on.</p>

<p> The control needs to have an LVar associated with its light for this to work.</p>

<p> Unfortunately, overhead-style square buttons don't have such LVars.
    </ol>



    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">if</span> <span class="keyword">not</span> FSL.GSLD_EFIS_CSTR_Button:isLit() <span class="keyword">then</span>
  FSL.GSLD_EFIS_CSTR_Button()
<span class="keyword">end</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "Control:getLvarValue"></a>
    <strong>Control:getLvarValue()</strong>
    </dt>
    <dd>






    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">int</span></span>



    </ol>




</dd>
</dl>
    <h2 class="section-header "><a name="Class_Button"></a>Class Button </h2>

    <dl class="function">
    <dt>
    <a name = "Button:__call"></a>
    <strong>Button:__call()</strong>
    </dt>
    <dd>
    Presses the button.






    <h3>Usage:</h3>
    <ul>
        <pre class="example">FSL.OVHD_ELEC_BAT_1_Button()</pre>
    </ul>

</dd>
    <dt>
    <a name = "Button:rightClick"></a>
    <strong>Button:rightClick()</strong>
    </dt>
    <dd>
    Simulates a click of the right mouse button on the VC button.







</dd>
    <dt>
    <a name = "Button:isDown"></a>
    <strong>Button:isDown()</strong>
    </dt>
    <dd>






    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">bool</span></span>
        True if the button is depressed.
    </ol>




</dd>
</dl>
    <h2 class="section-header "><a name="Class_Guard"></a>Class Guard </h2>

    <dl class="function">
    <dt>
    <a name = "Guard:lift"></a>
    <strong>Guard:lift()</strong>
    </dt>
    <dd>
    <span>







</dd>
    <dt>
    <a name = "Guard:close"></a>
    <strong>Guard:close()</strong>
    </dt>
    <dd>
    <span>







</dd>
    <dt>
    <a name = "Guard:isOpen"></a>
    <strong>Guard:isOpen()</strong>
    </dt>
    <dd>






    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">bool</span></span>



    </ol>




</dd>
</dl>
    <h2 class="section-header has-description"><a name="Class_Switch"></a>Class Switch </h2>

          <div class="section-description">
          All controls that have named positions
          </div>
    <dl class="function">
    <dt>
    <a name = "Switch:__call"></a>
    <strong>Switch:__call(targetPos)</strong>
    </dt>
    <dd>





    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">targetPos</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>



        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example">FSL.GSLD_EFIS_VORADF_1_Switch(<span class="string">"VOR"</span>)</pre>
    </ul>

</dd>
    <dt>
    <a name = "Switch:getPosn"></a>
    <strong>Switch:getPosn()</strong>
    </dt>
    <dd>






    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
        Current position of the switch in uppercase.
    </ol>




</dd>
    <dt>
    <a name = "Switch:toggle"></a>
    <strong>Switch:toggle()</strong>
    </dt>
    <dd>
    Cycles the switch back and forth.






    <h3>Usage:</h3>
    <ul>
        <pre class="example">FSL.OVHD_EXTLT_Land_L_Switch:toggle()</pre>
    </ul>

</dd>
</dl>
    <h2 class="section-header has-description"><a name="Class_FcuSwitch"></a>Class FcuSwitch </h2>

          <div class="section-description">
          Switches that can be pushed and pulled
          </div>
    <dl class="function">
    <dt>
    <a name = "FcuSwitch:push"></a>
    <strong>FcuSwitch:push()</strong>
    </dt>
    <dd>
    <span>







</dd>
    <dt>
    <a name = "FcuSwitch:pull"></a>
    <strong>FcuSwitch:pull()</strong>
    </dt>
    <dd>
    <span>







</dd>
</dl>
    <h2 class="section-header has-description"><a name="Class_KnobWithoutPositions"></a>Class KnobWithoutPositions </h2>

          <div class="section-description">
          Knobs with no fixed positions
          </div>
    <dl class="function">
    <dt>
    <a name = "KnobWithoutPositions:__call"></a>
    <strong>KnobWithoutPositions:__call(targetPos)</strong>
    </dt>
    <dd>





    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">targetPos</span>
            <span class="types"><span class="type">number</span></span>
         Relative position from 0-100.
        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example">FSL.OVHD_INTLT_Integ_Lt_Knob(<span class="number">42</span>)</pre>
    </ul>

</dd>
    <dt>
    <a name = "KnobWithoutPositions:rotateLeft"></a>
    <strong>KnobWithoutPositions:rotateLeft()</strong>
    </dt>
    <dd>
    Rotates the knob left by 1 tick.







</dd>
    <dt>
    <a name = "KnobWithoutPositions:rotateRight"></a>
    <strong>KnobWithoutPositions:rotateRight()</strong>
    </dt>
    <dd>
    Rotates the knob right by 1 tick.







</dd>
    <dt>
    <a name = "KnobWithoutPositions:getPosn"></a>
    <strong>KnobWithoutPositions:getPosn()</strong>
    </dt>
    <dd>






    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">number</span></span>
        Relative position from 0-100.
    </ol>




</dd>
    <dt>
    <a name = "KnobWithoutPositions:rotateBy"></a>
    <strong>KnobWithoutPositions:rotateBy(ticks[, pause=70])</strong>
    </dt>
    <dd>
    Rotates the knob by amount of ticks.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">ticks</span>
            <span class="types"><span class="type">number</span></span>
         positive to rotate right, negative to rotate left
        </li>
        <li><span class="parameter">pause</span>
            <span class="types"><span class="type">number</span></span>
         milliseconds to sleep between each tick
         (<em>default</em> 70)
        </li>
    </ul>





</dd>
    <dt>
    <a name = "KnobWithoutPositions:random"></a>
    <strong>KnobWithoutPositions:random([lower=0[, upper=100]])</strong>
    </dt>
    <dd>
    Sets the knob to random position between lower and upper.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">lower</span>
            <span class="types"><span class="type">number</span></span>



         (<em>default</em> 0)
        </li>
        <li><span class="parameter">upper</span>
            <span class="types"><span class="type">number</span></span>



         (<em>default</em> 100)
        </li>
    </ul>





</dd>
</dl>
    <h2 class="section-header "><a name="Class_MCDU"></a>Class MCDU </h2>

    <dl class="function">
    <dt>
    <a name = "MCDU:getArray"></a>
    <strong>MCDU:getArray()</strong>
    </dt>
    <dd>
    Returns the MCDU display as an array of display cells.



    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.5">table</a></span>

<p> Array of tables representing display cells.</p>

<p> Each cell table has three fields:</p>

<ul>
    <li>char: the character (nil if the cell is blank)</li>
    <li>color: string :
    <ul>
        <li>'cyan' </li>
        <li>'grey' </li>
        <li>'green' </li>
        <li>'magenta' </li>
        <li>'amber' </li>
        <li>'white' </li>
    </ul></li>
    <li>isBold: bool</li>
</ul>

    </ol>




</dd>
    <dt>
    <a name = "MCDU:getString"></a>
    <strong>MCDU:getString([startpos[, endpos]])</strong>
    </dt>
    <dd>
    Returns the MCDU display as a string.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">startpos</span>
            <span class="types"><span class="type">number</span></span>



         (<em>optional</em>)
        </li>
        <li><span class="parameter">endpos</span>
            <span class="types"><span class="type">number</span></span>



         (<em>optional</em>)
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>



    </ol>




</dd>
    <dt>
    <a name = "MCDU:getScratchpad"></a>
    <strong>MCDU:getScratchpad()</strong>
    </dt>
    <dd>
    Returns the scratchpad - the last line on the display



    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>



    </ol>




</dd>
    <dt>
    <a name = "MCDU:type"></a>
    <strong>MCDU:type(str)</strong>
    </dt>
    <dd>
    Types str on the keyboard.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">str</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>



        </li>
    </ul>





</dd>
    <dt>
    <a name = "MCDU:isOn"></a>
    <strong>MCDU:isOn()</strong>
    </dt>
    <dd>
    Returns false if the display is blank.



    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">bool</span></span>



    </ol>




</dd>
    <dt>
    <a name = "MCDU:printCells"></a>
    <strong>MCDU:printCells()</strong>
    </dt>
    <dd>
    Outputs information about each display cell: its index, character (including its numerical representation) and whether it's bold. </p>

<p> The output will be in the console and the FSUIPC log file.







</dd>
</dl>


</div> <!-- id="content" -->
</div> <!-- id="main" -->
<div id="about">
<i>generated by <a href="http://github.com/stevedonovan/LDoc">LDoc 1.4.6</a></i>
<i style="float:right;">Last updated 2021-02-12 01:27:47 </i>
</div> <!-- id="about" -->
</div> <!-- id="container" -->
</body>
</html>
